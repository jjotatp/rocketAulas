<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Módulo 2 - Exercício 4</title>
</head>

<body>
    <div id="app">  
        <input type="text" name="nome">
        <button onClick="adicionar()">Adicionar</button>    
    </div>

    <script>
        //A partir do vetor
        //Preencha uma lista (<ul>) no HTML com os itens da seguinte formakey: "value", 
        
        var containerElement = document.querySelector('#app');
        var listElement = document.createElement('ul');

        containerElement.appendChild(listElement);

        var nomes = ["Diego", "Gabriel", "Lucas"];
        
        function listaNomes(){
            //para quando adicionado um novo nome, add somente um.
            listElement.innerHTML = '';

            //percorre o vetor com forOf.
            for (nome of nomes) {
                var itemList = document.createElement('li');
                var textItem = document.createTextNode(nome);

                var delNome = document.createElement('a');

                //atributos da tag <a>
                delNome.setAttribute('href', '#');

                //vetor nomes[] dentro da <a>
                delNome.appendChild(textItem);
                //tag <a> dentro da <li>
                itemList.appendChild(delNome);
                //tag <li> dentro de <ul>
                listElement.appendChild(itemList);

                //Só uma graça!
                itemList.style.margin = '10px 0';

                //a variavel recece o indice de cada item do vetor.
                var pos = nomes.indexOf(nome);

                //ele informa que o onclique chama a função de delete.
                delNome.setAttribute('onclick', 'del('+ pos +')');
            }
        }

        //Iniciar automatiamente a lista.
        listaNomes();

        //Ler o campo input
        var nomeNovo = document.querySelector('#app input');

        function adicionar(){
            //add o nome escrito no imput no vetor de nomes.
            nomes.push(nomeNovo.value);

            //roda o leutor do vetor novamente com o nome novo.
            listaNomes();
        }

        function del(pos) {
            //ele apagar o indice indicado pela variavel 'pos' do vetor nomes
            nomes.splice(pos, 1);

            //roda o leutor do vetor novamente com o nome novo
            listaNomes();
        }


    </script>
</body>

</html>